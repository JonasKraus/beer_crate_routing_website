!function(){function e(e){for(var n=e+"=",t=document.cookie.split(";"),o=0;o<t.length;o++){for(var i=t[o];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(n))return i.substring(n.length,i.length)}return""}function n(){var n=document.cookie,t=null;void 0!=n&&""!=n&&(t=e("beercrate_routing_pseudonym"),void 0!=t&&""!=t&&null!=t&&(window.location.href="index.html"))}function t(){document.addEventListener("DOMContentLoaded",function(){document.querySelector("#checkboxConsent").addEventListener("change",r)})}function o(){document.addEventListener("DOMContentLoaded",function(){document.querySelector("#pseudonymForm").addEventListener("change",i)})}function i(){var e=document.getElementById("pseudonymForm");document.getElementById("buttonStart");isInputForm=!(""===e.value),psdnym=e.value.toUpperCase()}function r(){var e=document.getElementById("checkboxConsent");document.getElementById("buttonStart");isConsentForm=e.checked}function s(){t(),o();var e=a(psdnym);isConsentForm?isInputForm?isInputForm&&isConsentForm&&e&&d():c("Btte geb eine gÃ¼ltige Probanden-ID ein"):c("Bitte akzeptiere die Vereinbarungen")}function d(){var e=new XMLHttpRequest,t="scripts/setUser.php",o="pseudonym="+psdnym;e.open("POST",t,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.addEventListener("load",function(t){e.status>=200&&e.status<300&&n()}),e.send(o)}function u(){document.getElementById("buttonStart").onclick=s}function c(e){var n=document.getElementById("snackbar");n.innerHTML=e,n.className="show",setTimeout(function(){n.className=n.className.replace("show","")},3e3)}function a(e){if(6!=e.length)return c("Die Probanden-ID muss 6 Zeichen lang sein");var n=e.substring(0,4),t=/^[a-z]+$/i,o=e.substring(4,6),i=/^\d+$/;return t.test(n)?!!i.test(o)||c("Die letzten 2 Zeichen der Probanden-ID sind Zahlen"):c("Die ersten 4 Zeichen der Probanden-ID sind Buchstaben")}isConsentForm=!1,isInputForm=!1,psdnym=null,document.addEventListener("DOMContentLoaded",function(){i(),r(),u()}),n(),t(),o()}();